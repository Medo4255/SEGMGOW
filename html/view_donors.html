<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donors List</title>
    <link rel="stylesheet" href="../css/stylesVD.css">
</head>
<body>
    <div class="container">
        <h1>Donors List</h1>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Contact Number</th>
                    <th>Role</th>
                    <th>Delete Donor</th>
                    <th>Download Donor Data</th>
                </tr>
            </thead>
            <tbody>
                <!-- Dummy donor data -->
                <tr>
                    <td>John Doe</td>
                    <td>john@example.com</td>
                    <td>1234567890</td>
                    <td>Doctor</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <!-- Additional dummy donor data -->
                <tr>
                    <td>Jane Smith</td>
                    <td>jane@example.com</td>
                    <td>9876543210</td>
                    <td>Teacher</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>Michael Johnson</td>
                    <td>michael@example.com</td>
                    <td>5678901234</td>
                    <td>Doctor</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>Emily Davis</td>
                    <td>emily@example.com</td>
                    <td>1231234567</td>
                    <td>Teacher</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>David White</td>
                    <td>david@example.com</td>
                    <td>9876543210</td>
                    <td>Doctor</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>Laura Wilson</td>
                    <td>laura@example.com</td>
                    <td>1234567890</td>
                    <td>Teacher</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>William Johnson</td>
                    <td>william@example.com</td>
                    <td>5678901234</td>
                    <td>Doctor</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>Sarah Lee</td>
                    <td>sarah@example.com</td>
                    <td>1231234567</td>
                    <td>Teacher</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>Matthew Taylor</td>
                    <td>matthew@example.com</td>
                    <td>9876543210</td>
                    <td>Doctor</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>Emma Brown</td>
                    <td>emma@example.com</td>
                    <td>1234567890</td>
                    <td>Teacher</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>Alexander Garcia</td>
                    <td>alexander@example.com</td>
                    <td>5678901234</td>
                    <td>Doctor</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
                <tr>
                    <td>Sophia Martinez</td>
                    <td>sophia@example.com</td>
                    <td>1231234567</td>
                    <td>Teacher</td>
                    <td><button onclick="confirmDelete(this)">Delete</button></td>
                    <td><button onclick="downloadData(this)">Download</button></td>
                </tr>
            </tbody>
        </table>
        <div class="button-container">
            <button class="button" onclick="window.location.href='registration.html'">Register as Donor</button>
        </div>
    </div>

    <script>
        function confirmDelete(btn) {
            var row = btn.parentNode.parentNode;
            var confirmation = confirm("Are you sure you want to delete this donor?");
            if (confirmation) {
                row.parentNode.removeChild(row);
            }
        }

        function downloadData(btn) {
            var row = btn.parentNode.parentNode;
            var name = row.cells[0].innerText;
            var data = "";
            row.childNodes.forEach(cell => {
                data += cell.innerText + "\t";
            });
            var blob = new Blob([data], { type: "text/plain;charset=utf-8" });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = name.replace(/\s+/g, '_') + '_data.txt';
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }
    </script>
</body>
</html>
